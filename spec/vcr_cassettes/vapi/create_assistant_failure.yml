---
http_interactions:
- request:
    method: post
    uri: https://api.vapi.ai/assistant
    body:
      encoding: UTF-8
      string: '{"name":"Test Company Assistant","model":{"provider":"openai","model":"gpt-4o-mini","systemMessage":"You are a professional HVAC assistant specializing in lead intake and qualification. Your goal is to gather contact information and understand the customer''s HVAC needs. Be friendly, professional, and efficient. Keep calls under 2 minutes.","messages":[{"role":"assistant","content":"Hi! I''m calling from Test Company about your HVAC needs. Do you have a few minutes to talk?"}],"tools":[{"type":"function","function":{"name":"capture_lead","description":"Capture lead information","parameters":{"type":"object","properties":{"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"issue_description":{"type":"string"},"urgency":{"type":"string","enum":["urgent","moderate","low"]}}}}}]},"voice":{"provider":"elevenlabs","voiceId":"rachel"},"maxDurationSeconds":120,"metadata":{"trial_id":"12345678-1234-1234-1234-123456789012","industry":"hvac","business_name":"Test Company"}}'
    headers:
      Authorization:
      - Bearer <VAPI_API_KEY>
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json
      Date:
      - Mon, 01 Jan 2024 12:00:00 GMT
    body:
      encoding: UTF-8
      string: '{"error":{"message":"Internal server error","code":"internal_error"}}'
  recorded_at: Mon, 01 Jan 2024 12:00:00 GMT
recorded_with: VCR 6.0.0
